\documentclass[main_tikz.tex]{subfiles}

\begin{document}
\begin{tikzpicture}[scale=\tkzscl]

\tikzset{
    %Define standard arrow tip
    >=stealth',
    %Define style for boxes
    varstyle/.style={
           rectangle,
           fill=white,
           rounded corners,
           draw=black, very thick,
           text width=2em,
           minimum height=2em,
           text centered},
    %Define style for operators
    op/.style={
           circle,
           draw=black, very thick,
           fill=white,
           text width=1em,
           minimum height=1em,
           text centered},
    %Define style for st
    st/.style={
           draw,
           thick,
           rectangle,
           fill=white,
           text width=2.2em,
           minimum height=2.2em,},
    text_st/.style={font=\scriptsize},
    % Define arrow style
    pil/.style={
           ->,
           thick,
           %shorten <=2pt,
           %shorten >=2pt,}
    }
};

%nodes
\node[varstyle] (linear) {$W_X$};
\node[op, inner sep=4pt, right=1em of linear] (add) {};
\node[left=1em of linear] (X) {$x$} edge[pil] (linear.west);
\path (linear.east) edge[pil] (add.west);

% Draw a centered plus sign

% Draw plus sign
\draw ($ (add.north) - (0, .15)$) -- ($ (add.south) + (0, .15)$);
\draw ($ (add.east) - (.15, 0)$) -- ($ (add.west) + (.15, 0)$);


%Draw soft-thresholding
\node[st, right=1em of add] (st) {};  % {ST($\cdot, \frac{\lambda}{L}$)};

% Draw Soft-thresholding
\draw ($ (st.center) - (0,.9em)  $) -- ($ (st.center) + (0,.9em)  $);
\draw ($ (st.center) - (.9em,0em)  $) -- (st.center) node[midway,above] {st} -- ($ (st.center) + (.9em,0em)  $) node[midway,below, text_st] {$\beta$};
\draw ($ (st.center) - (.2em,0em)  $) -- ($ (st.center) - (.8em,.7em)  $);
\draw ($ (st.center) + (.2em,0em)  $) -- ($ (st.center) + (.8em,.7em)  $);

%\node[above=1em of h.center] (up) {};
%\node[below=1em of h.center] (down) {};
%\node[right=1em of h.center] (right) {};
%\node[left=1em of h.center] (left) {};
%\draw (h.center) -- (up) -- (down) -- (h.center) -- (right) -- (left);
%\draw ($ (h.center) - (.2em,0em)  $) -- ($ (h.center) - (.8em,.7em)  $);
%\draw ($ (h.center) + (.2em,0em)  $) -- ($ (h.center) + (.8em,.7em)  $);
%
\node[right=2em of st] (Z) {$z^*$};
\path (add.east) edge[pil] (st.west);
\path (st.east) edge[pil] (Z);
\node[inner sep=0,minimum size=0,right=1em of st] (branch) {};
\node[varstyle,below=.5em of st] (S) {$W_z$};
\draw[pil] (branch) |- (S.east);
\draw[pil] (S.west) -| (add);
\end{tikzpicture}
\end{document}